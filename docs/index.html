<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">

  <title>マークアップをパワーアップするWAI-ARIA</title>

  <link rel="stylesheet" href="css/reveal.css">
  <link rel="stylesheet" href="css/theme/black.css">
  <link rel="stylesheet" href="css/additional.css">

  <!-- Theme used for syntax highlighting of code -->
  <link rel="stylesheet" href="lib/css/zenburn.css">

  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
    document.getElementsByTagName('head')[0].appendChild(link);
  </script>
</head>

<body>
  <div class="reveal">
    <div class="slides">
      <section>
        <h1 class="u-mb0">
          <img src="assets/title.png" alt="マークアップをパワーアップするWAI-ARIA #DIST23 @o_ti, @masuP9">
        </h1>
        <footer>
          <p class="u-taL">
            <small>
              <time datetime="2018-10-19">2018-10-19</time>
            </small>
          </p>
        </footer>
      </section>
      <section>
        <h2>私たち</h2>
      </section>
      <section>
        <p class="u-taL u-dF -middle">
          <img class="u-mr16" src="https://pbs.twimg.com/profile_images/978499970620731392/qr06jOW8_400x400.jpg" height="150"
            style="border-radius: 50%;" alt="@o_tiのプロフィール写真。机の上の卵かけご飯" />
          <span>
            <a href="https://twitter.com/o_ti">@o_ti</a><small class="u-ml4">(キレ手)</small>
            <span class="u-dB">株式会社まぼろし</span>
          </span>
        </p>
        <p class="u-taL u-dF -middle">
          <img class="u-mr16" src="https://pbs.twimg.com/profile_images/876277125652729858/dzVcFs82_400x400.jpg" height="150"
            style="border-radius: 50%;" alt="@masuP9のプロフィール写真。ますぴーとかかれた木製のバッジの写真" />
          <span>
            <a href="https://twitter.com/masuP9">@masuP9</a><small class="u-ml4">(わかり手)</small>
            <span class="u-dB">株式会社サイバーエージェント</span>
          </span>
        </p>
      </section>
      <section>
        <ul>
          <li class="u-dB">マークアップ生まれ</li>
          <li class="u-dB fragment">マークアップ育ち</li>
          <li class="u-dB fragment">フロントエンドエンジニア</li>
          <li class="u-dB fragment">受託魔族はだいたい友達</li>
        </ul>
      </section>
      <section>
        <h3>#deisui_html_radio</h3>
        <p class="fragment">ウェブ制作をこじらせたオレたちが<br>歩いてきた道は何か、進むべき道はどこかを探る<br>（ただの飲み配信）</p>
      </section>
      <section>
        <h2>WAI-ARIAってなに</h2>
      </section>
      <section>
        <pre class="u-fzL"><code class="html"><header role="banner">
  hogehoge
</header></code></pre>
        <aside class="notes">
          <p>こういうの見たことありませんか？この<code>role=&quot;banner&quot;がWAI-ARIAと呼ばれるものです。</code></p>
        </aside>
      </section>
      <section>
        <dl class="u-fzL">
          <div>
            <dt>WAI</dt>
            <dd>
              <b style="color: var(--color__accent)">W</b>eb&nbsp;
              <b style="color: var(--color__accent)">A</b>ccessibility&nbsp;
              <b style="color: var(--color__accent)">I</b>nitiative&nbsp;
            </dd>
          </div>
          <div class="fragment">
            <dt>ARIA</dt>
            <dd>
              <b style="color: var(--color__accent)">A</b>ccessible&nbsp;
              <b style="color: var(--color__accent)">R</b>ich&nbsp;
              <b style="color: var(--color__accent)">I</b>nternet&nbsp;
              <b style="color: var(--color__accent)">A</b>pplications&nbsp;
            </dd>
          </div>
        </dl>
        <aside class="notes">
          <p>WAIはW3Cの中のアクセシビリティに関連する分科会で、<abbr title="Web Contents Accessibility Guidelines">WCAG</abbr>などの仕様策定も行っている。</p>
          <p>その中でWebアプリケーションをアクセシブルにするための仕様がWAI-ARIA</p>
        </aside>
      </section>
      <section>
        <h3>背景 : <abbr title="Hyper Text Markup Language">HTML</abbr>では足りない</h3>
      </section>
      <section>
        <h4>アプリケーション化するWeb</h4>
      </section>
      <section>
        <p>
          開発者は既存の要素とCSSとJavaScriptで
          <span class="u-dIb">折りたたみツリーウィジェット</span>の
          <span class="u-dIb"><em>ようなもの</em>を作る</span>
        </p>
      </section>
      <section>
        <p>それが折りたたみツリーウィジェットだと<span class="u-dIb">知覚できるのはなぜ？</span></p>
        <p class="fragment">ツリーを開くことができると<span class="u-dIb">知覚できるのはなぜ？</span></p>
      </section>
      <section>
        <p>視覚的な<em>ぽさ</em>から<abbr title="User Interface">UI</abbr>や状態を知覚している</p>
      </section>
      <section>
        <button type="button" style="transform: scale(10);border-radius: 1000px;">button</button>
      </section>
      <section>
        <p>押せそう</p>
      </section>
      <section>
        <p>視覚的な<em>ぽさ</em>を得られない場合にどう知覚するか</p>
        <aside class="notes">
          <p>例えば</p>
          <ul>
            <li>スクリーンーリーダー</li>
            <li><abbr title="Voice User Interface">VUI</abbr>（Siri, Google Home, Amazon Echo）</li>
          </ul>
        </aside>
      </section>
      <section>
        <pre class="u-fzL"><code class="html"><div>button</div></code></pre>
      </section>
      <section>
        <p>押せなさそう</p>
      </section>
      <section>
        <p>セマンティクス</p>
      </section>
      <section>
        <h4>どうするのか</h4>
        <p><code>&lt;tab&gt;&lt;/tab&gt;</code> ?</p>
        <p class="fragment">要素増やすの大変</p>
      </section>
      <section>
        <p>思い出してごらん...</p>
        <ul>
          <li class="fragment"><code>section</code></li>
          <li class="fragment"><code>article</code></li>
          <li class="fragment"><code>hgroup</code></li>
        </ul>
      </section>
      <section>
        <p>属性でパワーアップ💪</p>
        <p>WAI-ARIAは属性でセマンティクスを補強する</p>
        <p>さらにホスト言語を進化させる役割</p>
      </section>
      <section>
        <h3>WAI-ARIAはHTMLに限らない</h3>
        <p>ホスト（マークアップ）言語を拡張する。</p>
        <p><abbr title="Scalable Vector Graphics">SVG</abbr>や<abbr title="Extensible Markup Language">XML</abbr>も対象</p>
        <aside class="notes">
          <p>例えば地図のグラフィックス内で押したらポップアップとか</p>
        </aside>
      </section>
      <section>
        <h2>WAI-ARIAでなにができるの</h2>
      </section>
      <section>
        <p>HTML（ホスト言語）に足りないセマンティクスを補強できる</p>
      </section>
      <section>
        <p>WAI-ARIAは何を付与できるか</p>
        <ul>
          <li>役割</li>
          <li>状態</li>
          <li>プロパティ</li>
        </ul>
      </section>
      <section>
        <pre><code class="html"><ul role="tree" aria-label="menu tree">
  <li role="treeitem" aria-selected="true">...</li>
  <li role="treeitem" aria-selected="false">...</li>
</ul></code></pre>
      </section>
      <section>
        <h3>役割 : <code>role</code></h3>
        <p>これはツリーウィジェットである</p>
      </section>
      <section>
        <h3>状態 : ステート</h3>
        <p>このツリーアイテムは選択されている（いない）</p>
      </section>
      <section>
        <h3>プロパティ</h3>
        <p>このツリーウィジェットの名前プロパティは<code class="u-dIb">menu tree</code>である</p>
      </section>
      <section>
        <p>これらの付与されたセマンティクスはどのようにユーザー（支援技術）に伝わるか</p>
      </section>
      <section>
        <h3>アクセシビリティ<abbr title="Application Programing Interface">API</abbr></h3>
        <p>OSが支援技術にセマンティクスなどの<br>情報を伝えるAPI</p>
        <p>ブラウザがコンテンツをアクセシビリティAPIの<br>オブジェクトに変換して支援技術に伝える</p>
      </section>
      <section>
        <figure>
          <svg xmlns="http://www.w3.org/2000/svg" width="961" height="609" viewBox="0 0 961 609">
            <g fill="none" fill-rule="evenodd">
              <g transform="translate(360 225)" class="fragment">
                <rect width="297" height="149" x="1.5" y="1.5" fill="#FFF" stroke="#333" stroke-width="3" />
                <text fill="#333" font-size="28" font-weight="bold">
                  <tspan x="38" y="73">アクセシビリティ</tspan>
                  <tspan x="123.54" y="101">API</tspan>
                </text>
              </g>
              <rect width="297" height="606" x="1.5" y="1.5" fill="#FFF" stroke="#333" stroke-width="3" />
              <g transform="translate(100 473)">
                <rect width="174" height="58" x="1.5" y="1" stroke="#333" stroke-width="2" />
                <text fill="#333" font-size="28" font-weight="bold">
                  <tspan x="56.398" y="41">CSS</tspan>
                </text>
              </g>
              <g transform="translate(100 290)">
                <g transform="translate(26.5 53)">
                  <rect width="121.135" height="44" x="1" y="1" stroke="#333" stroke-width="2" />
                  <text fill="#333" font-size="28" font-weight="bold">
                    <tspan x="18.154" y="34">HTML</tspan>
                  </text>
                </g>
                <text fill="#333" font-size="28" font-weight="bold">
                  <tspan x="26.77" y="37">DOM</tspan>
                </text>
                <rect width="174" height="111" x="1.5" y="1" stroke="#333" stroke-width="2" />
              </g>
              <g transform="translate(16 216)">
                <rect width="55" height="230" x="1" y="1" stroke="#333" stroke-width="2" />
                <text fill="#333" font-size="28" font-weight="bold">
                  <tspan x="22" y="113">J</tspan>
                  <tspan x="22" y="141">S</tspan>
                </text>
              </g>
              <g transform="translate(87 170)">
                <rect width="187" height="58" x="1.286" y="1" stroke="#333" stroke-width="2" />
                <text fill="#333" font-size="28" font-weight="bold">
                  <tspan x="18.262" y="41">WAI-ARIA</tspan>
                </text>
              </g>
              <text fill="#333" font-size="32" font-weight="bold">
                <tspan x="85" y="96">ブラウザ</tspan>
              </text>
              <path fill="#333" fill-rule="nonzero" d="M28.1149867,-1 L14.7694775,-8.50684893 L13.0263264,-9.48737141 L14.9873714,-12.9736736 L16.7305225,-11.9931511 L36.7305225,-0.743151074 L39.8294577,1 L36.7305225,2.74315107 L16.7305225,13.9931511 L14.9873714,14.9736736 L13.0263264,11.4873714 L14.7694775,10.5068489 L28.1149867,3 L15.75,3 L0.352657057,3 L-1.64734294,3 L-1.64734294,-1 L0.352657057,-1 L15.75,-1 L28.1149867,-1 Z"
                transform="translate(75 345)" />
              <path fill="#333" fill-rule="nonzero" d="M20.6656003,3.85862962 L5.92075648,7.98718589 L3.99482844,8.52644574 L2.91630874,4.67458967 L4.84223678,4.13532981 L26.9393237,-2.05185452 L30.3631958,-3.0105387 L29.4045116,0.41333337 L23.2173272,22.5104203 L22.6780674,24.4363483 L18.8262113,23.3578286 L19.3654712,21.4319006 L23.4940274,6.68705674 L14.7506615,15.4304227 L1.76687062,28.4142136 L0.352657057,29.8284271 L-2.47577007,27 L-1.06155651,25.5857864 L11.9222344,12.6019956 L20.6656003,3.85862962 Z"
                transform="translate(75 212)" />
              <path fill="#FFF" fill-rule="nonzero" d="M7.38501328,3.5 L20.7305225,11.0068489 L22.4736736,11.9873714 L20.5126286,15.4736736 L18.7694775,14.4931511 L-1.23052248,3.24315107 L-4.32945772,1.5 L-1.23052248,-0.243151074 L18.7694775,-11.4931511 L20.5126286,-12.4736736 L22.4736736,-8.98737141 L20.7305225,-8.00684893 L7.38501328,-0.5 L19.75,-0.5 L38.25,-0.5 L50.6149867,-0.5 L37.2694775,-8.00684893 L35.5263264,-8.98737141 L37.4873714,-12.4736736 L39.2305225,-11.4931511 L59.2305225,-0.243151074 L62.3294577,1.5 L59.2305225,3.24315107 L39.2305225,14.4931511 L37.4873714,15.4736736 L35.5263264,11.9873714 L37.2694775,11.0068489 L50.6149867,3.5 L38.25,3.5 L19.75,3.5 L7.38501328,3.5 Z"
                transform="translate(659 303)" />
              <path fill="#FFF" fill-rule="nonzero" d="M6.38501328,2.5 L19.7305225,10.0068489 L21.4736736,10.9873714 L19.5126286,14.4736736 L17.7694775,13.4931511 L-2.23052248,2.24315107 L-5.32945772,0.5 L-2.23052248,-1.24315107 L17.7694775,-12.4931511 L19.5126286,-13.4736736 L21.4736736,-9.98737141 L19.7305225,-9.00684893 L6.38501328,-1.5 L18.75,-1.5 L41.25,-1.5 L53.6149867,-1.5 L40.2694775,-9.00684893 L38.5263264,-9.98737141 L40.4873714,-13.4736736 L42.2305225,-12.4931511 L62.2305225,-1.24315107 L65.3294577,0.5 L62.2305225,2.24315107 L42.2305225,13.4931511 L40.4873714,14.4736736 L38.5263264,10.9873714 L40.2694775,10.0068489 L53.6149867,2.5 L41.25,2.5 L18.75,2.5 L6.38501328,2.5 Z"
                transform="translate(300 304)" />
              <text fill="#333" font-size="56" font-weight="300" transform="translate(170 411)">
                <tspan x=".132" y="49">+</tspan>
              </text>
              <text fill="#333" font-size="56" font-weight="300" transform="translate(170 229)">
                <tspan x=".132" y="49">+</tspan>
              </text>
              <g transform="translate(716 229)" class="fragment">
                <rect width="242" height="149" x="1.5" y="1.5" fill="#FFF" stroke="#333" stroke-width="3" />
                <text fill="#333" font-size="32" font-weight="bold">
                  <tspan x="59" y="88">支援技術</tspan>
                </text>
              </g>
            </g>
          </svg>
        </figure>
      </section>
      <section>
        <h2>WAI-ARIAをどういうときに使うの</h2>
      </section>
      <section>
        <h3>aria-label</h3>
        <p><span style="color: var(--color__accent)">可視ラベル</span>が使用できない場所で<br><span style="color: var(--color__accent)">不可視ラベル</span>を提供できる</p>
      </section>
      <section>
        <h4>「可視ラベルが使用できない」とは？</h4>
        <ul class="fragment">
          <li>ハンバーガーメニューのアイコン</li>
          <li>ヘッダー、フッターのメニュー</li>
          <li>同じ文言のリンク</li>
        </ul>
      </section>
      <section>
        <p>ビジュアルを推した結果<br><span style="color: var(--color__accent)">ラベルがない</span>／<span style="color: var(--color__accent)">不足している</span>コンテンツ</p>
      </section>
      <section>
        <h4>「不可視ラベルを提供できる」とは？</h4>
        <p class="fragment">スクリーンリーダーが<span style="color: var(--color__accent)">読み上げ</span>ることができる。</p>
      </section>
      <section>
        <p>ビジュアルではラベルなしのままで<br>機械が読める代替テキストを設定できる</p>
      </section>
      <section>
        <h4>ハンバーガーメニューのアイコン</h4>
        <pre><code class="html">
<button role="button" aria-label="サイトメニューを表示する">
  <span></span>
  <span></span>
  <span></span>
</button>
        </code></pre>
      </section>
      <section>
        <h4>ヘッダー、フッターのメニュー</h4>
        <pre><code class="html">
<header>
  <h1><img src="..." alt=""></h1>
  <nav aria-label="グローバルナビ">
    <ul>
      <li><a href="~">トップ</a></li>
      <li><a href="~">メンバー紹介</a></li>
      <li><a href="~">配信アーカイブ</a></li>
      <li><a href="~">泥酔情報</a></li>
    </ul>
  </nav>
</header>
        </code></pre>
      </section>
      <section>
        <h4>同じ文言のリンク</h4>
        <pre><code class="html"><a href="~" aria-label="泥酔事例について詳しく見る">more...</a>
<a href="~" aria-label="配信機材について詳しく見る">more...</a>
<a href="~" aria-label="放送予定について詳しく見る">more...</a>
        </code></pre>
      </section>
      <section>
        <h3>aria-labelledby</h3>
        <p>離れた要素のテキストをラベルとして使う</p>
      </section>
      <section>
        <h4>ラジオボタングループ</h4>
        <pre><code><p id="optionLabel">泥酔するなら？</p>

<div role="radiogroup" aria-labelledby="optionLabel">
  <input type="radio" name="alcohol" value="~">ハイボール
  <input type="radio" name="alcohol" value="~">ストロングゼロ
  <input type="radio" name="alcohol" value="~">99.99
  <input type="radio" name="alcohol" value="~">テキーラ
</div>
        </code></pre>
        <p>「泥酔するなら？」というラベルの<br>ラジオボタングループになる</p>
      </section>
      <section>
        <h3>aria-controls</h3>
        <p>自身が別要素の状態を制御することを示す。</p>
        <p>「状態」はJavaScriptで操作する。</p>
        <p></p>
      </section>
      <section>
        <h3>タブ</h3>
        <p class="fragment">同じ表示領域で内容が切り替わるウィジェット</p>
        <ul>
          <li class="fragment">role="tablist"</li>
          <li class="fragment">role="tab"</li>
          <li class="fragment">role="tabpanel"</li>
          <li class="fragment">aria-selected</li>
          <li class="fragment">aria-hidden</li>
        </ul>
      </section>
      <section>
        <h4>WAI-ARIAなし</h4>
        <pre><code><nav>
  <ul>
    <li>
      <a href="#tabItem1">越智</a>
    </li>
    <li>
      <a href="#tabItem2">枡田</a>
    </li>
  </ul>
</nav>
<div>
  <div id="tabItem1">キレ手</div>
  <div id="tabItem2">わかり手</div>
</div>
        </code></pre>
      </section>
      <section>
        <h4>WAI-ARIAあり</h4>
        <pre><code><nav>
  <ul role="tablist">
    <li role="presentation">
      <a href="#tabItem1" id="tabItem1" role="tab" aria-controls="tabItem1" aria-selected="true">越智</a>
    </li>
    <li role="presentation">
      <a href="#tabItem2" id="tabItem2" role="tab" aria-controls="tabItem2" aria-selected="false">枡田</a>
    </li>
  </ul>
</nav>
<div>
  <div id="tabItem1" role="tabpanel" aria-labelledby="tabItem1" aria-hidden="false">キレ手</div>
  <div id="tabItem2" role="tabpanel" aria-labelledby="tabItem2" aria-hidden="true">わかり手</div>
</div>
        </code></pre>
      </section>
      <section>
        <h3>aria-live</h3>
        <p>ページ内に更新があっったことを<br>ユーザーへ伝える。</p>
      </section>
      <section>
        <h2>WAI-ARIAの前に</h2>
      </section>
      <section>
        <p>そもそも問う</p>
        <p class="fragment">WAI-ARIAを書く必要があるのか？</p>
      </section>
      <section>
        <ul>
          <li>見出しがちゃんと付けばいいちゃう？</li>
          <li class="fragment">そこ本当にアコーディオンな必要ある？</li>
          <li class="fragment">そこ本当にタブな必要ある？</li>
          <li class="fragment">なんで英語？</li>
        </ul>
      </section>
      <section>
        <p>見出しやラベルは見えるように書いていきたい。</p>
        <p class="fragment">タブやアコーディオンはそのまま並べたい。</p>
        <p class="fragment">だってJS実装いらなくなるし！！！</p>
      </section>
      <section>
        <p>しかしそうもいかないこんな世の中</p>
        <ul>
          <li class="fragment">SPAとSSR</li>
          <li class="fragment">コンテンツ／ライティングの世界観</li>
          <li class="fragment">何としても100vhに納めたいデザイン</li>
          <li class="fragment">何としてもその場でエラーを伝えたいフォーム</li>
        </ul>
      </section>
      <section>
        <p>HTMLだけでは解決できない現実よ</p>
      </section>
      <section>
        <p>まずは素直にマークアップで情報設計</p>
        <ul>
          <li class="fragment">セクショニング</li>
          <li class="fragment">見出し要素</li>
          <li class="fragment">表、リスト、引用、図版</li>
          <li class="fragment">a要素、button要素</li>
          <li class="fragment">alt</li>
        </ul>
      </section>
      <section>
        <p>WAI-ARIAとJavaScriptでアクセシブルに</p>
        <ul>
          <li>a要素内のテキストだけで伝わるか？</li>
          <li>アコーディオン</li>
          <li>タブ</li>
          <li>ローディング</li>
          <li>ライブリージョン</li>
        </ul>
      </section>
      <section>
        <h2>まとめ</h2>
      </section>
      <section>
        <p>マークアップは世の中でもっとも難しい。</p>
      </section>
      <section>
        <p>ゆえに、<br>もっともソリューションでなければならない。</p>
      </section>
      <section>
        <p>HTML + JavaScript + WAI-ARIAで<br>「非アクセシブル」を解決しよう！</p>
      </section>
      <section>
        <p>WAI-ARIAでマシンリーダビリティーを上げれば<br>ヒューマンリーダビリティーがついて来る。</p>
      </section>
      <section>
        <p>マークアップをパワーアップさせて<br>全ての人に等しく情報を届けよう！</p>
      </section>
    </div>
  </div>

  <script src="lib/js/head.min.js"></script>
  <script src="js/reveal.js"></script>

  <script>
    // More info about config & dependencies:
    // - https://github.com/hakimel/reveal.js#configuration
    // - https://github.com/hakimel/reveal.js#dependencies
    Reveal.initialize({
      slideNumber: true,
      history: true,
      dependencies: [
        { src: 'plugin/markdown/marked.js' },
        { src: 'plugin/markdown/markdown.js' },
        { src: 'plugin/notes/notes.js', async: true },
        { src: 'plugin/highlight/highlight.js', async: true, callback: function () { hljs.initHighlightingOnLoad(); } }
      ]
    });
  </script>
</body>

</html>
